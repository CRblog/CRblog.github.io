<!DOCTYPE HTML>
<html>
  <head>
    <title>刘文祥</title>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="Cache-Control" content="no-siteapp" /> 	
    <link rel="stylesheet" href="editor.md/css/editormd.css" />
    <!--[if lt IE 9]>
      <script type="text/javascript" src="/staticRes/js/html5shiv.js"></script>
      <script type="text/javascript" src="/staticRes/js/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="plugin/h-ui/css/H-ui.min.css" />
    <link rel="stylesheet" type="text/css" href="plugin/Hui-iconfont/1.0.8/iconfont.min.css" />
    <link rel="stylesheet" type="text/css" href="css/common.css" />
    <link rel="stylesheet" type="text/css" href="plugin/pifu/pifu.css" />
    <!--[if lt IE 9]>
      <link href="/staticRes/lib/h-ui/css/H-ui.ie.css" rel="stylesheet" type="text/css" />
    <![endif]-->
  </head>
  <body>

    <div class="container pt-20" id="app">
      <!--<div class="Huialert Huialert-info"><i class="Hui-iconfont">&#xe6a6;</i>成功状态提示</div>-->
      <!--left-->
      <div class="col-sm-9 col-md-9" v-show="blog.blog_id == null">

        <!--滚动图-->
        <!-- 正文区 -->
        <div class="art_content" >
          <ul class="index_arc">	
            <!-- 文章 -->
          <li class="index_arc_item no_pic" v-for="blog in blogs" v-cloak>
            <h4><a  v-on:click="edit_blog(blog.blog_id)">{{blog.title}}</a></h4>
            <div class="date_hits">
              <span>{{author}}</span>
              <span>{{blog.create_time}}</span>
              <span><a href="">{{TagNameGet(blog.tag_id)}}</a></span>
              <p class="hits"><i class="Hui-iconfont" title="点击量">&#xe6c1;</i> 276 °</p>
              <p class="commonts"><i class="Hui-iconfont" title="点击量">&#xe622;</i> <span id="sourceId::105" class="cy_cmt_count">20</span></p>
            </div>
            <div class="desc">正文</div>
          </li>
          </ul>
        </div>
      </div>


      <div class="col-sm-12 col-md-12" v-show="blog.blog_id != null">
            <div class="am-form">
              <div class="am-form-group">
                <label for="doc-ipt-pwd-1">博客标题</label>
                <input type="text" class="" v-model="blog.title">
              </div>
            </div>
              <article id="show_content">
                <textarea>{{blog.content}}</textarea>
              </article>
            
      </div>



      <!--right-->
      <div class="col-sm-3 col-md-3" v-show="blog.blog_id == null">
        <!--博主信息-->
        <div class="bg-fff box-shadow radius mb-20">
          <div class="tab-category">
            <a href=""><strong>关于我</strong></a>
          </div>
          <div class="tab-category-item">
            <ul class="index_recd">
              <h1 class="blog-text-center blog-title"><span>不凡QAQ</span></h1>
              <p>我是大佬</p>
            </ul>
          </div>
        </div>


        <!--热门推荐-->
        <div class="bg-fff box-shadow radius mb-20">
          <div class="tab-category">
            <a href=""><strong>热门推荐</strong></a>
          </div>
          <div class="tab-category-item">
            <ul class="index_recd">
              <li>
                <a href="#">阻止asdasd</a>
                <p class="hits"><i class="Hui-iconfont" title="点击量">&#xe622;</i> 276 </p>
              </li>
            </ul>
          </div>
        </div>
        <!--标签-->
        <div class="bg-fff box-shadow radius mb-20">
          <div class="tab-category">
            <a href=""><strong>TAG CLOUD</strong></a>
          </div>
          <div class="tab-category-item" v-cloak>
            <div class="tags"> 
              <ul>
                <li><a href="" class="blog-tag" v-for="tag in tags">{{tag.tag_name}}</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!--友情链接-->
        <div class="bg-fff box-shadow radius mb-20">
          <div class="tab-category">
            <a href=""><strong>友链</strong></a>
          </div>
          <div class="tab-category-item">
            <span><i class="Hui-iconfont">&#xe6f1;</i><a href="#" class="btn-link">百度</a></span>
            <span><i class="Hui-iconfont">&#xe6f1;</i><a href="#" class="btn-link">淘宝</a></span>
            <span><i class="Hui-iconfont">&#xe6f1;</i><a href="#" class="btn-link">腾讯</a></span>
            <span><i class="Hui-iconfont">&#xe6f1;</i><a href="#" class="btn-link">慕课网</a></span>
            <span><i class="Hui-iconfont">&#xe6f1;</i><a href="#" class="btn-link">h-ui</a></span>
          </div>
        </div>
        <!--最近访客-->
        <!--分享-->
        <div class="bg-fff box-shadow radius mb-20">
          <div class="tab-category">
            <a href=""><strong>联系我</strong></a>
          </div>
          <div class="panel-body">
            <div class="bdsharebuttonbox Hui-share"><a href="#" class="bds_weixin Hui-iconfont" data-cmd="weixin" title="分享到微信">&#xe694;</a><a href="#" class="bds_qzone Hui-iconfont" data-cmd="qzone" title="分享到QQ空间">&#xe6c8;</a> <a href="#" class="bds_sqq Hui-iconfont" data-cmd="sqq" title="分享到QQ好友">&#xe67b;</a> <a href="#" class="bds_tsina Hui-iconfont" data-cmd="tsina" title="分享到新浪微博">&#xe6da;</a> <a href="#" class="bds_tqq Hui-iconfont" data-cmd="tqq" title="分享到腾讯微博">&#xe6d9;</a></div>
          </div>
        </div>

      </div>
      <!-- 版权区 --> 
    </div>

    <footer class="footer mt-20">
      <div class="container-fluid" id="foot">
        <p>Copyright &copy; 2019 刘文祥 <br>
        </p>
      </div>
    </footer>


    <script type="text/javascript" src="plugin/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="plugin/layer/3.0/layer.js"></script>
    <script type="text/javascript" src="plugin/h-ui/js/H-ui.min.js"></script>
    <script type="text/javascript" src="plugin/pifu/pifu.js"></script>
    <script type="text/javascript" src="js/common.js"></script>
    <script> $(function(){ $(window).on("scroll",backToTopFun); backToTopFun(); }); </script>
    <script type="text/javascript" src="plugin/jquery.SuperSlide/2.1.1/jquery.SuperSlide.min.js"></script>
    <script src="assets/js/jquery.min.js"></script>

    <script src="assets/js/amazeui.min.js"></script>                                                         
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script src="editor.md/lib/marked.min.js"></script>
    <script src="editor.md/lib/prettify.min.js"></script>
    <script src="editor.md/lib/raphael.min.js"></script>
    <script src="editor.md/lib/underscore.min.js"></script>
    <script src="editor.md/lib/sequence-diagram.min.js"></script>
    <script src="editor.md/lib/flowchart.min.js"></script>
    <script src="editor.md/lib/jquery.flowchart.min.js"></script>
    <script src="editor.md/editormd.js"></script>

    <script>
      var app = new Vue({
        el: '#app',
        data: {
          author: 'CR',
          blogs: [
          ],
          tags: [
          ],
          tag: {

          },
          blog: {

          },

        },
        methods: {
          TagNameGet(tag_id){
            for(var index in this.tags) {
              if(this.tags[index].tag_id = tag_id){
                return this.tags[index].tag_name
              }
            }
            return "无标签"
          },
          back()
          {
            this.blog = {};
          },
          blogs_list(tag_id){
            var url = '/blog';
            if(tag_id!=null)
            {
              url = '/blog/?tag_id='+ tag_id;
            }
            $.ajax({
              url: url,
              type: "get",
              context: this,
              success: function(data,status){
                this.blogs = data;
              }
            })
          },
          init(){
            $.ajax({
              type: "get",
              url: "/tag",
              context: this,
              success: function(data,status) {
                this.tags = data;
                this.blogs_list();
              }
            })
          },
          get_blog(blog_id){
            $.ajax({
              url: '/blog/' + blog_id,
              type: "get",
              context: this,
              success: function(data,status){
                this.blog = data; 
                testEditormdView = editormd.markdownToHTML("show_content",{
                  markdown        : this.blog.content,
                  htmlDecode      : "style,script,iframe",
                  tocm            : true,   
                  emoji           : true,
                  taskList        : true,
                  tex             : true,  // 默认不解析
                  flowChart       : true,  // 默认不解析
                  sequenceDiagram : true,  // 默认不解析

                }); 

              }

            })

          },
          edit_blog(blog_id){
            $.ajax({
              type: "get",
              url: "/blog/"+blog_id,
              context: this, 
              success: function(data,status) {
                this.blog = data;
                testEditor = editormd("show_content", {
                  width   : "90%",
                  height  : 1000,
                  syncScrolling : "single",
                  path    : "editor.md/lib/"               
                });         

              }      

            })    

          },

        }
      });
app.init();
    </script> 

  </body>
</html>
